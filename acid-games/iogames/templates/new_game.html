<html>

<head>
    <title>Acid Games | Best .io Games</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link href="https://fonts.googleapis.com/css?family=Quicksand:400,700" rel="stylesheet">     <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="http://localhost:8080/static/css/new_game.css" />
</head>
<body>
    <div class="navBarWrapper">
        <div class="topNavBar">
            <div class="logoArea">
                <svg class="svg8" width="10.072mm" height="9.9169mm" version="1.1" viewBox="0 0 10.072051 9.9168701" xmlns="http://www.w3.org/2000/svg">
                    <g id="layer1">
                        <g class="flask">
                        <path id="path2" d="m9.8724 7.8673-0.0677-0.11989c-0.25457-0.4531-0.84961-1.5132-1.4644-2.4178-0.20657-0.30324-0.41418-0.58621-0.60257-0.84263-0.30076-0.41003-0.67498-0.91968-0.6786-1.071 0.0226-0.66487 7e-3 -2.2375 2e-3 -2.7238h0.39264v-0.689h-4.9642v0.68898h0.52056c-6e-3 0.48607-0.021 2.0584 2e-3 2.7228-4e-3 0.15207-0.37812 0.66199-0.67927 1.072-0.18763 0.25666-0.39538 0.53966-0.60206 0.84263-0.61464 0.90466-1.2099 1.9648-1.4645 2.4178l-0.0677 0.11989c-0.2621 0.46246-0.2647 1.0933-8e-3 1.5342 0.1949 0.33426 0.50759 0.51852 0.87961 0.51852h7.9321c0.37163 0 0.68433-0.18426 0.87921-0.51852 0.25666-0.4409 0.25406-1.0718-8e-3 -1.5342zm-0.48474 1.247c-0.0908 0.15648-0.22086 0.23564-0.38694 0.23564h-7.9313c-0.16505 0-0.29519-0.0789-0.3864-0.23564-0.15465-0.26522-0.14988-0.68069 0.0118-0.96564l0.0683-0.1225c0.25055-0.44582 0.83757-1.4911 1.4398-2.3753 0.20164-0.29791 0.40521-0.57506 0.59026-0.82668 0.5255-0.71676 0.79954-1.1055 0.7889-1.4275-0.0208-0.59182-0.01-1.9675-3e-3 -2.5618h2.9139c6e-3 0.59426 0.0174 1.9699-3e-3 2.5618-0.0114 0.32204 0.26261 0.71053 0.78865 1.4275 0.18423 0.2516 0.38822 0.52901 0.59035 0.82668 0.6013 0.88415 1.1883 1.9294 1.4392 2.3753l0.068 0.1225c0.16192 0.28495 0.16661 0.70067 0.0117 0.96564z" style="stroke-width:.022224"/>
                        <path id="path4" d="m9.0095 7.9298c-0.14972-0.26573-0.49956-0.88935-0.8613-1.4208-0.0924-0.13677-0.18399-0.26289-0.27222-0.38383 0 0-0.45856 0.1897-1.8713 0.23693-1.413 0.0477-1.6514 0.40431-2.4466 0.3332-0.79538-0.0716-1.3622-0.57013-1.3622-0.57013-0.088 0.12092-0.1797 0.24704-0.27224 0.38383-0.36136 0.53145-0.71209 1.1551-0.86117 1.4208l-0.0396 0.0709c-0.15388 0.27197-0.1557 0.64255-5e-3 0.90206 0.1151 0.19619 0.29817 0.3044 0.51681 0.3044h7.0026c0.2185 0 0.40225-0.10821 0.51719-0.3044 0.14999-0.25951 0.14894-0.63009-5e-3 -0.90206zm-6.5033 0.0859c-0.26066 0-0.47283-0.21124-0.47283-0.4723 0-0.26109 0.21215-0.4723 0.47283-0.4723 0.26069 0 0.47217 0.21121 0.47217 0.4723 0 0.26055-0.21151 0.4723-0.47217 0.4723zm0.5251 0.80967c-0.0933 0-0.16907-0.0755-0.16907-0.16919 0-0.0932 0.0758-0.1687 0.16907-0.1687 0.0929 0 0.16895 0.0755 0.16895 0.1687 0 0.0937-0.0761 0.16919-0.16895 0.16919zm1.4867-1.0671c-0.15752 0-0.28455-0.12766-0.28455-0.28544 0-0.15677 0.1273-0.28496 0.28455-0.28496 0.15701 0 0.28496 0.12821 0.28496 0.28496 0 0.15754-0.12795 0.28544-0.28496 0.28544zm1.1451 0.95241c-0.12328 0-0.22291-0.10018-0.22291-0.22319 0-0.12325 0.0996-0.22288 0.22291-0.22288 0.12327 0 0.22368 0.0996 0.22368 0.22288-2.5e-4 0.12301-0.10065 0.22319-0.22368 0.22319zm1.4341-0.42638c-0.2808 0-0.50866-0.2281-0.50866-0.50941 0-0.2808 0.22786-0.50914 0.50866-0.50914 0.28233 0 0.50968 0.22834 0.50968 0.50914-3e-5 0.28133-0.22735 0.50941-0.50968 0.50941zm0.52574 0.54108c-0.0932 0-0.16894-0.0755-0.16894-0.16919 0-0.0932 0.0758-0.1687 0.16894-0.1687 0.0934 0 0.16895 0.0755 0.16895 0.1687-2.7e-4 0.0937-0.0758 0.16919-0.16895 0.16919z" style="stroke-width:.022224"/>
                        </g>
                    </g>
                </svg>
                        
                <a class="linkHome" href="/">
                    <div class="logo">
                        AcidGames<div style="display: inline; color: #3ddf7b;">.space</div>
                    </div>
                </a>
            </div>
        
    
            <div class="devActions">
                <!-- <a href="/developers/sign_in" class="button dev">Developer Sign In</a> -->
                <a href="/developers/sign_in" class="button dev">Developers</a>
                <a href="/random" class="button">Random Game</a>
                <a href="/" class="button">Home</a>

            </div>
            
        </div>
        <div class="coloredLine"></div>
    </div>  
    
    <div class="dashboard">
        <div>Dashboard</div>
        <div class="dashboardNav">

            <a class="navButton" href="/developer/dashboard">My Games</a>

            <a class="navButton" href="/developer/games/new">Submit New Game</a>
            
            <form action="/developers/logout" method="post">
                <button type="submit" class="logout">Logout</button>
            </form>


        </div>
    </div>

    <form class="newGameForm" action="/developer/games/new_game" method="post" id="form">
        <div class="titleLabel">
            Add New Game
        </div>

        <div class="titleLinkArea area">
            <div>Title: </div><input type="text" name="title" value="">
            <div>URL: </div><input type="url" name="url" value="">
        </div>

        <div class="descriptionArea">
            <div>Description: </div><textarea rows="8" cols="50" name="description"></textarea>
        </div>

        <div class="categoriesArea">
            <div>Category: </div>
            <select id="dropdown" name="category">
                <option value="none" disabled selected>Select&hellip;</option>
                {{range .Categories}}
                    <option value="{{.Name}}">{{.Name}}</option>
                {{end}}
            </select>
        </div>

        <div class="thumbnailArea">
            <div>Thumbnail(url): </div><input type="url" name="thumbnail" value="">
        </div>
        <input type="hidden" name="owner" value="{{.Username}}">
        <button type="submit" class="submitButton">Submit</button>

    </form>

</body>
<script>
        var form = document.getElementById("form");
                
        form.onsubmit = function (e) {
            // stop the regular form submission
            e.preventDefault();

            // collect the form data while iterating over the inputs
            var data = {};
            for (var i = 0, ii = form.length; i < ii; ++i) {
                var input = form[i];
                if (input.name) {
                    data[input.name] = input.value;
                }
            }
    
            // construct an HTTP request
            var xhr = new XMLHttpRequest();
            xhr.open(form.method, form.action, true);
            xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
    
            // send the collected data as JSON
            xhr.send(JSON.stringify(data));
            console.log(JSON.stringify(data));
            xhr.onreadystatechange = function () {
                if (xhr.readyState == XMLHttpRequest.DONE) {
                    var responseJson = JSON.parse(xhr.responseText);
                    alert(responseJson.message);
                    
                    
                    
                }
            }
        };
    </script>
</html>